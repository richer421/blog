---
title: AI 辅助全栈开发实践经验：Claude Code 使用心得
date: 2026-01-27 23:00:00
tags:
  - AI
  - Claude Code
  - 全栈开发
  - 最佳实践
categories:
  - 开发工具
  - AI
---

## 写在前面

最近用 Claude Code 做了不少全栈项目，踩了不少坑，也总结了一些经验。这篇文章就是想把这些实践心得记录下来，给想用 AI 辅助开发的同学一些参考。

核心观点很简单：**AI 不是魔法，跟 AI 协作需要方法论**。

<!-- more -->

## AI 开发的正确范式

在讲具体经验之前，先说说我总结出来的一套 AI 开发范式。这套方法论很简单，但很管用。

### 第一步：定义项目的关键概念

项目开始之前，先把核心概念定义清楚。

什么是关键概念？就是**这个项目里最核心的业务实体和术语**。

比如做电商项目：
- 用户（User）
- 商品（Product）
- 订单（Order）
- 购物车（Cart）
- 支付（Payment）

比如做内容平台：
- 文章（Article）
- 作者（Author）
- 评论（Comment）
- 标签（Tag）

把这些概念写下来，明确它们之间的关系。这一步很重要，**这是你和 AI 沟通的统一语言**。

### 第二步：从业务角度拆解模块

有了核心概念，接下来按业务功能拆模块。

不要按技术层拆（前端、后端、数据库），要**按业务领域拆**：

```
电商项目模块拆解：
├── 用户模块
│   ├── 注册登录
│   ├── 个人信息管理
│   └── 地址管理
├── 商品模块
│   ├── 商品列表
│   ├── 商品详情
│   └── 商品搜索
├── 订单模块
│   ├── 创建订单
│   ├── 订单支付
│   └── 订单查询
└── 购物车模块
    ├── 添加商品
    ├── 修改数量
    └── 结算
```

每个模块职责清晰，边界明确。

### 第三步：基于计划的开发

**关键：不要让 AI 一上来就写代码！**

每次开发一个模块之前，先让 AI 制定计划：

```
"我要开发订单模块，请先制定开发计划：
1. 需要哪些数据模型
2. 需要实现哪些接口
3. 有哪些关键逻辑
4. 涉及哪些技术难点"
```

AI 会给你一个计划，你审查这个计划，确认没问题，再开始写代码。

这样做的好处：
- ✅ 避免返工
- ✅ 提前发现问题
- ✅ 把控开发节奏
- ✅ 让 AI 理解全局

### 第四步：每次开发一部分

有了计划，**不要一口气让 AI 全写完**。

应该这样：

**第一轮：数据模型**
```
"根据计划，先定义订单模块的数据模型"
```

**第二轮：DAO 层**
```
"基于这些数据模型，实现 DAO 层的 CRUD 操作"
```

**第三轮：业务逻辑**
```
"实现订单创建的业务逻辑"
```

**第四轮：API 接口**
```
"实现订单相关的 REST API"
```

每一步都能跑通、测试通过，再进行下一步。

### 第五步：制定需求文档

这里说的需求文档，不是给产品经理看的，是**给 AI 看的**。

在让 AI 实现某个功能之前，先写一份"需求文档"：

```markdown
## 功能：创建订单

### 输入
- userId: 用户 ID
- items: 商品列表 [{ productId, quantity }]
- addressId: 收货地址 ID
- paymentMethod: 支付方式

### 业务规则
1. 验证商品库存是否充足
2. 计算订单总价（商品价格 + 运费）
3. 创建订单记录（状态：待支付）
4. 扣减库存（预扣）
5. 清空购物车中对应商品

### 输出
- 成功：返回订单信息
- 失败：返回错误码和错误信息

### 异常处理
- 库存不足：回滚操作，提示用户
- 创建订单失败：回滚库存扣减
```

把这个文档给 AI，它写出来的代码会靠谱得多。

### 第六步：把控关键要素

整个开发过程中，有几个关键要素必须牢牢把控：

#### 1. 数据模型

数据模型是根基，必须自己审查确认。

AI 可能会：
- 缺少必要字段
- 字段类型不合理
- 缺少索引
- 缺少约束

这些问题要在写代码前就发现。

#### 2. 接口设计

API 接口一旦定下来就很难改，必须仔细审查：
- 接口命名是否清晰
- 参数设计是否合理
- 返回数据结构是否统一
- 错误处理是否完善

#### 3. 业务逻辑

核心业务逻辑要自己过一遍：
- 边界条件是否考虑
- 异常情况是否处理
- 事务是否正确
- 并发是否安全

AI 写的代码，Happy Path 一般没问题，但边界情况和异常处理经常有坑。

### 这套范式的本质

说白了，这套范式的核心就是：

**不要把 AI 当成全自动的代码生成器，而是把它当成一个需要你"管理"的初级程序员。**

你是 Tech Lead，AI 是新人：
- 你定方向、定规范
- AI 执行、写代码
- 你审查、提意见
- AI 修改、优化

这样协作，效率最高，质量最好。

## 后端开发：慢就是快

上面说了方法论，现在说说后端开发的具体实践。

### 先搭骨架，别着急写业务

用 AI 写后端代码，最大的坑就是**让 AI 一口气写太多东西**。

你可能觉得："AI 这么强，直接让它把整个模块写完不就行了？"

别，真的别。

AI 写代码快是快，但如果一开始没把基础打好，后面改起来比重写还痛苦。

这正是前面说的范式：**基于计划、分步实施、把控关键**。

### 正确的姿势

#### 1. 先定义数据模型

在写任何业务逻辑之前，先把数据模型定义清楚：

```typescript
// 别着急，先把这些定义好
interface User {
  id: string;
  username: string;
  email: string;
  createdAt: Date;
}

interface Order {
  id: string;
  userId: string;
  items: OrderItem[];
  totalAmount: number;
  status: OrderStatus;
}
```

为什么？因为**数据模型是整个系统的根基**。这东西定错了，后面全是坑。

#### 2. 定义项目结构

告诉 AI 你要什么样的架构：

```
src/
├── models/          # 数据模型
├── dao/             # 数据访问层
├── services/        # 业务逻辑层
├── controllers/     # 控制器
└── routes/          # 路由
```

这样 AI 知道往哪里写代码，不会到处乱放。

#### 3. 分层开发，一层一层来

**第一步：让 AI 先写 DAO 层**

```
"帮我实现 UserDAO，包含基本的 CRUD 操作"
```

**第二步：在 DAO 之上封装业务逻辑**

```
"基于 UserDAO，实现 UserService，包含用户注册、登录的业务逻辑"
```

**第三步：再写 Controller**

```
"基于 UserService，实现 UserController"
```

### 为什么要这样？

因为 AI 如果一次写太多，它的上下文会乱。写着写着就忘了前面定义的东西，结果：

- 同样的逻辑重复实现
- 该复用的地方没复用
- 代码风格前后不一致
- 错误处理逻辑混乱

分层写的好处：
- ✅ 每一层的职责清晰
- ✅ AI 专注于当前层的逻辑
- ✅ 后续修改影响面小
- ✅ 代码质量有保证

### 提供标准化的概念和语义

跟 AI 说话，**不要用模糊的自然语言，要用标准化的技术术语**。

❌ 别这样说：
```
"帮我写个功能，用户可以提交订单"
```

✅ 这样说：
```
"实现 OrderService.createOrder 方法：
- 入参：userId, items[]
- 验证：检查库存、计算总价
- 事务：扣减库存、创建订单记录
- 返回：Order 对象
```

越具体，AI 写出来的代码越靠谱。

### 前期走得慢，后期跑得快

这是我最大的体会：**项目开始阶段，不要急**。

骨架搭好了，后面 AI 写业务逻辑就会很快，因为它知道：
- 数据从哪来
- 往哪里写
- 用什么格式
- 遵循什么规范

反之，如果开始就让 AI 大踏步写，后面全是技术债。

## 前端开发：别让 AI 写样式

### 选对组件库很重要

用流行的、文档全的组件库，比如 **Ant Design**。

为什么不推荐小众的？因为 AI 训练数据里，主流库的示例多得多。

我试过字节的 Arco Design，体感就差一些。不是 Arco 不好，而是 AI 对 Ant Design 更熟。

### 让 AI 用组件的能力，而不是写样式

AI 不懂美学，别指望它写出好看的界面。

#### 正确的做法

❌ 别这样：
```
"这个表单间距太大了，调整一下样式"
```

AI 会给你写一堆 CSS，还不一定好看。

✅ 应该这样：
```
"用 Form 组件，设置 labelCol={{ span: 6 }}，wrapperCol={{ span: 18 }}"
```

或者：

```
"用 Descriptions 组件，column={3}，每项占一列，左右各留一列空白"
```

### 用组件属性，不用自定义样式

AI 最擅长的是**调用 API**，而不是写样式。

比如调整间距：

❌ 别让 AI 写：
```css
.container {
  padding: 20px;
  margin-bottom: 10px;
}
```

✅ 应该用组件的 props：
```jsx
<Space size="large" direction="vertical">
  <Card>...</Card>
  <Card>...</Card>
</Space>
```

### 避免主观描述

AI 不知道什么是"美"、什么是"丑"、什么叫"间距太大"。

❌ 这些说法没用：
- "这个布局不太好看"
- "颜色有点丑"
- "图标太大了"
- "间距不太协调"

✅ 应该说：
- "改用 Grid 布局，3 列，间距 16px"
- "按钮用 primary 类型，size 设置为 middle"
- "图标大小设为 16px"
- "用 Space 组件，size={8}"

### 布局调试：AI 不一定比你快

说实话，调 UI 布局这事儿，**AI 不一定比你自己改快**。

为什么？

1. **Token 消耗大**：每次调整都要重新生成代码
2. **理解偏差**：你说的"好看"，AI 不一定懂
3. **反复迭代**：可能要调几轮才满意

如果只是调调间距、改改布局，**直接自己上手可能更快**。

AI 的价值在于：
- ✅ 快速搭建基础结构
- ✅ 实现复杂的业务逻辑
- ✅ 生成重复性的代码

而不是：
- ❌ 微调样式
- ❌ 调整视觉效果
- ❌ 精细化布局

## 总结：跟 AI 协作的原则

回到文章开头说的，AI 不是魔法，需要方法论。

### 核心范式（再强调一遍）

1. **定义关键概念**：统一语言，明确术语
2. **拆解业务模块**：按领域拆分，不按技术拆分
3. **基于计划开发**：先制定计划，再写代码
4. **分步实施**：每次一小块，测试通过再继续
5. **需求文档驱动**：给 AI 明确的输入、输出、规则
6. **把控关键要素**：数据模型、接口设计、业务逻辑要自己审查

### 后端开发

1. **定义先行**：数据模型、项目结构先定义好
2. **分层开发**：DAO → Service → Controller，一层一层来
3. **标准化沟通**：用技术术语，不用模糊语言
4. **慢慢搭骨架**：前期慢一点，后期快很多

### 前端开发

1. **选主流库**：Ant Design 这种生态好的
2. **用组件能力**：优先用组件的 props，少写样式
3. **机械化描述**：说清楚列数、间距、大小，别说"美丑"
4. **自己调布局**：细节调整可能自己来更快

### 核心思想

**把 AI 当成一个需要明确指令和管理的初级程序员，而不是一个全知全能的代码生成器。**

你的角色是 Tech Lead：
- 定义关键概念和术语
- 拆解任务和制定计划
- 提供清晰的需求文档
- 审查关键设计和代码
- 把控整体质量

AI 的角色是执行者：
- 根据需求写代码
- 遵循你定义的规范
- 实现具体的功能逻辑
- 快速生成重复性代码

这样分工协作，AI 能极大提升开发效率。

做不到，可能还不如自己写。

## 写在最后

AI 辅助开发是个新东西，大家都在摸索。

这篇文章只是我个人的一些经验，不一定对所有场景适用。

但有一点我很确定：**跟 AI 协作，方法论很重要**。

掌握了正确的协作方式，AI 就是超级助手。

用错了方式，AI 就是代码生成器，生成一堆需要你返工的代码。

希望这些经验对你有帮助。